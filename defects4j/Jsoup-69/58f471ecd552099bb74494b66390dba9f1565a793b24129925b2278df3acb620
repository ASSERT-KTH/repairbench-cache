{
    "generation": "public List<Connection.KeyVal> formData() {\n    List<Connection.KeyVal> data = new ArrayList<>();\n    boolean hasSubmit = false;\n\n    for (Element el : elements) {\n        if (!el.tag().isFormSubmittable()) continue;\n        String name = el.absUrl(\"name\").equals(el.baseUri()) ? \"\" : el.attr(\"name\");\n        if (name.length() == 0) continue;\n\n        if (el.tag().getName().equals(\"button\") && !el.hasAttr(\"name\")) continue;\n        String type = el.attr(\"type\");\n\n        // skip buttons that aren't submit and don't have a value, and unchecked radio/checks\n        if (el.tag().getName().equals(\"button\") && !type.equals(\"submit\") && !el.hasAttr(\"value\")) continue;\n        if ((el.tag().getName().equals(\"input\") &&\n            (type.equals(\"checkbox\") || type.equals(\"radio\")) &&\n            !el.hasAttr(\"checked\"))) continue;\n\n        // if a submit element, only include it if there hasn't been one yet (first only)\n        if ((el.tag().getName().equals(\"input\") && (type.equals(\"submit\") || type.equals(\"image\")))\n            || el.tag().getName().equals(\"button\")) {\n            if (type.equals(\"image\")) type = \"submit\"; // image acts like a submit\n            if (hasSubmit) continue;\n            hasSubmit = true;\n        }\n\n        String value = \"\";\n        if (el.tag().getName().equals(\"textarea\")) {\n            value = el.text();\n        } else if (el.tag().getName().equals(\"input\")) {\n            if (\"password\".equals(type))\n                value = \"\"; // don't leak passwords in default request impls\n            else\n                value = el.val();\n        } else {\n            value = el.val();\n        }\n        data.add(new Connection.KeyVal(name, value));\n    }\n    return data;\n}",
    "exact_match": false,
    "ast_match": false,
    "compile": false,
    "test": false
}