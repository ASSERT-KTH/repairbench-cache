{
    "generation": "@Override\npublic List<Connection.KeyVal> formData() {\n    List<Connection.KeyVal> formData = new ArrayList<>();\n\n    for (Element el : this.children()) {\n        if (!el.hasAttr(\"disabled\")) {\n            if (el.tag().getName().equals(\"input\")) {\n                if (el.attr(\"type\").equals(\"radio\") || el.attr(\"type\").equals(\"checkbox\")) {\n                    if (el.hasAttr(\"checked\")) {\n                        formData.add(new HttpConnection.KeyVal(el.attr(\"name\"), el.val()));\n                    }\n                } else {\n                    formData.add(new HttpConnection.KeyVal(el.attr(\"name\"), el.val()));\n                }\n            } else if (el.tag().getName().equals(\"button\") && el.hasAttr(\"name\")) {\n                formData.add(new HttpConnection.KeyVal(el.attr(\"name\"), el.val()));\n            } else if (el.tag().getName().equals(\"textarea\")) {\n                formData.add(new HttpConnection.KeyVal(el.attr(\"name\"), el.ownText()));\n            } else if (el.tag().getName().equals(\"select\")) {\n                Elements options = el.select(\"option[selected]\");\n                boolean hasDefault = false;\n                for (Element option : options) {\n                    if (option.hasAttr(\"value\")) {\n                        formData.add(new HttpConnection.KeyVal(el.attr(\"name\"), option.attr(\"value\")));\n                    } else {\n                        formData.add(new HttpConnection.KeyVal(el.attr(\"name\"), option.text()));\n                    }\n                    hasDefault = true;\n                }\n                if (!hasDefault) {\n                    Element first = el.select(\"option\").first();\n                    if (first != null) {\n                        if (first.hasAttr(\"value\")) {\n                            formData.add(new HttpConnection.KeyVal(el.attr(\"name\"), first.attr(\"value\")));\n                        } else {\n                            formData.add(new HttpConnection.KeyVal(el.attr(\"name\"), first.text()));\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    // iterate over form elements that are not children of this form (e.g. form controls referenced by a <input form=\"id\">)\n    Elements inputs = getDocument().getElementsByAttribute(\"form\");\n    for (Element input : inputs) {\n        if (input.attr(\"form\").equals(this.attr(\"id\")) && !input.hasAttr(\"disabled\")) {\n            if (input.tag().getName().equals(\"input\")) {\n                if (input.attr(\"type\").equals(\"radio\") || input.attr(\"type\").equals(\"checkbox\")) {\n                    if (input.hasAttr(\"checked\")) {\n                        formData.add(new HttpConnection.KeyVal(input.attr(\"name\"), input.val()));\n                    }\n                } else {\n                    formData.add(new HttpConnection.KeyVal(input.attr(\"name\"), input.val()));\n                }\n            } else if (input.tag().getName().equals(\"button\") && input.hasAttr(\"name\")) {\n                formData.add(new HttpConnection.KeyVal(input.attr(\"name\"), input.val()));\n            } else if (input.tag().getName().equals(\"textarea\")) {\n                formData.add(new HttpConnection.KeyVal(input.attr(\"name\"), input.ownText()));\n            } else if (input.tag().getName().equals(\"select\")) {\n                Elements options = input.select(\"option[selected]\");\n                boolean hasDefault = false;\n                for (Element option : options) {\n                    if (option.hasAttr(\"value\")) {\n                        formData.add(new HttpConnection.KeyVal(input.attr(\"name\"), option.attr(\"value\")));\n                    } else {\n                        formData.add(new HttpConnection.KeyVal(input.attr(\"name\"), option.text()));\n                    }\n                    hasDefault = true;\n                }\n                if (!hasDefault) {\n                    Element first = input.select(\"option\").first();\n                    if (first != null) {\n                        if (first.hasAttr(\"value\")) {\n                            formData.add(new HttpConnection.KeyVal(input.attr(\"name\"), first.attr(\"value\")));\n                        } else {\n                            formData.add(new HttpConnection.KeyVal(input.attr(\"name\"), first.text()));\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    return formData;\n}",
    "exact_match": false,
    "ast_match": false,
    "compile": false,
    "test": false
}