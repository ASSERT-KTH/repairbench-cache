{
    "generation": "public List<Connection.KeyVal> formData() {\n    List<Connection.KeyVal> data = new ArrayList<>();\n\n    // Get all form control elements, but filter out any that have been removed from the DOM\n    Elements elements = select(\"input, textarea, select\");\n    for (Element el : elements) {\n        if (!el.hasParent()) continue; // skip elements that have been removed\n        String name = el.attr(\"name\").trim();\n        if (name.length() > 0) {\n            String type = el.attr(\"type\");\n            // Handle different input types appropriately\n            if (\"checkbox\".equalsIgnoreCase(type) || \"radio\".equalsIgnoreCase(type)) {\n                if (el.hasAttr(\"checked\")) {\n                    String val = el.val();\n                    if (val == null || val.isEmpty()) val = \"on\";\n                    data.add(new Connection.KeyVal(name, val));\n                }\n            } else if (el.tagName().equals(\"select\")) {\n                Elements options = el.select(\"option[selected]\");\n                if (options.isEmpty() && el.hasAttr(\"multiple\")) {\n                    // For multiple selects without selections, use all options?\n                    options = el.select(\"option\");\n                }\n                for (Element option : options) {\n                    String val = option.val();\n                    if (val == null) val = option.text();\n                    data.add(new Connection.KeyVal(name, val));\n                }\n            } else if (\"submit\".equalsIgnoreCase(type)) {\n                if (el.is(\"[default-submit]\")) { // if we're the submit button that was pressed\n                    data.add(new Connection.KeyVal(name, el.val()));\n                }\n            } else if (!iskeyable(el)) {\n                // don't add\n            } else {\n                String val = el.val();\n                if (el.tagName().equals(\"textarea\")) {\n                    val = el.text(); // textarea values come from text()\n                }\n                if (val == null) val = \"\";\n                data.add(new Connection.KeyVal(name, val));\n            }\n        }\n    }\n    return data;\n}\n\nprivate boolean iskeyable(Element el) {\n    // Determine if an element should be included in form data\n    String type = el.attr(\"type\");\n    if (el.tagName().equals(\"textarea\") || el.tagName().equals(\"select\"))\n        return true;\n    if (\"checkbox\".equalsIgnoreCase(type) || \"radio\".equalsIgnoreCase(type))\n        return true;\n    if (\"button\".equalsIgnoreCase(type) || \"submit\".equalsIgnoreCase(type) || \"image\".equalsIgnoreCase(type))\n        return true;\n    if (el.attr(\"name\").length() == 0 && !\"hidden\".equalsIgnoreCase(type))\n        return false; // no name and not hidden means not keyable\n    return true;\n}",
    "exact_match": false,
    "ast_match": false,
    "compile": false,
    "test": false
}