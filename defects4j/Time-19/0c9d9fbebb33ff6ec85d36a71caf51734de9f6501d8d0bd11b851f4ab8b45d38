{
    "generation": "    public int getOffsetFromLocal(long instantLocal) {\n        // get the offset at instantLocal (first estimate)\n        final int offsetLocal = getOffset(instantLocal);\n        // adjust instantLocal using the estimate and recalc the offset\n        final long instantAdjusted = instantLocal - offsetLocal;\n        final int offsetAdjusted = getOffset(instantAdjusted);\n\n        // if the offsets differ, we must be near a DST boundary\n        if (offsetLocal != offsetAdjusted) {\n            // calculate the transition points to handle DST ambiguities\n            long prevTransition = previousTransition(instantLocal);\n            long nextTransition = nextTransition(instantLocal);\n\n            // handle gap (skipped time)\n            if ((offsetLocal - offsetAdjusted) < 0) {\n                // we're in a gap (time doesn't exist), so we adjust to the later offset\n                return offsetAdjusted;\n            } else {\n                // we're in an overlap (ambiguous time)\n                // find the transition time in local terms\n                long transitionInstant = nextTransition(instantAdjusted - 1000L);\n                long transitionLocal = transitionInstant + getOffset(transitionInstant);\n\n                if (instantLocal >= transitionLocal) {\n                    return offsetAdjusted;\n                } else {\n                    // use the previous offset for times before the transition\n                    return getOffset(transitionInstant - 1);\n                }\n            }\n        } else {\n            // no transition - just return the offset\n            return offsetAdjusted;\n        }\n    }",
    "exact_match": false,
    "ast_match": false,
    "compile": true,
    "test": false
}