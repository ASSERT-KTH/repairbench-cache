{
    "generation": "    public static String random(int count, int start, int end, boolean letters, boolean numbers,\n                                char[] chars, Random random) {\n        if (count == 0) {\n            return \"\";\n        }\n        if (count < 0) {\n            throw new IllegalArgumentException(\"Requested random string length \" + count + \" is less than 0.\");\n        }\n\n        if (start == 0 && end == 0) {\n            if (!letters && !numbers) {\n                start = 0;\n                end = Integer.MAX_VALUE;\n            } else {\n                start = ' ';\n                end = 'z' + 1;\n            }\n        }\n\n        char[] buffer = new char[count];\n        int gap = end - start;\n\n        while (count-- > 0) {\n            int index;\n            char ch;\n            if (chars == null) {\n                index = random.nextInt(gap);\n                ch = (char) (start + index);\n            } else {\n                index = random.nextInt(gap);\n                ch = chars[start + index];\n            }\n\n            if (letters && Character.isLetter(ch) || numbers && Character.isDigit(ch)) {\n                if (Character.isLowSurrogate(ch)) {\n                    if (count == 0) {\n                        count++;\n                    } else {\n                        buffer[count] = ch;\n                        count--;\n                        if (count >= 0) {\n                            int highSurrogate = 55296 + random.nextInt(128);\n                            buffer[count] = (char) highSurrogate;\n                        }\n                    }\n                } else if (Character.isHighSurrogate(ch)) {\n                    if (count == 0) {\n                        count++;\n                    } else {\n                        if (count >= 0) {\n                            int lowSurrogate = 56320 + random.nextInt(128);\n                            buffer[count] = (char) lowSurrogate;\n                        }\n                        count--;\n                        buffer[count] = ch;\n                    }\n                } else if (ch >= 56192 && ch <= 56319) {\n                    // Skip invalid high surrogates\n                    count++;\n                } else {\n                    buffer[count] = ch;\n                }\n            } else if (chars != null) {\n                count++;\n            } else {\n                count++;\n            }\n        }\n\n        return new String(buffer);\n    }",
    "exact_match": false,
    "ast_match": false,
    "compile": true,
    "test": false
}