{
    "generation": "    public Range getDataRange(ValueAxis axis) {\n\n        Range result = null;\n        List mappedDatasets = new ArrayList();\n        List includedAnnotations = new ArrayList();\n        boolean isDomainAxis = true;\n\n        // Check if it's a domain axis\n        int domainIndex = getDomainAxisIndex(axis);\n        if (domainIndex >= 0) {\n            isDomainAxis = true;\n            mappedDatasets.addAll(getDatasetsMappedToDomainAxis(\n                    new Integer(domainIndex)));\n            if (domainIndex == 0) {\n                // Include annotations from the plot's annotations\n                for (XYAnnotation annotation : this.annotations) {\n                    if (annotation instanceof XYAnnotationBoundsInfo) {\n                        includedAnnotations.add(annotation);\n                    }\n                }\n            }\n        }\n\n        // Check if it's a range axis\n        int rangeIndex = getRangeAxisIndex(axis);\n        if (rangeIndex >= 0) {\n            isDomainAxis = false;\n            mappedDatasets.addAll(getDatasetsMappedToRangeAxis(\n                    new Integer(rangeIndex)));\n            if (rangeIndex == 0) {\n                // Include annotations from the plot's annotations\n                for (XYAnnotation annotation : this.annotations) {\n                    if (annotation instanceof XYAnnotationBoundsInfo) {\n                        includedAnnotations.add(annotation);\n                    }\n                }\n            }\n        }\n\n        // Calculate the union of ranges from the datasets\n        for (Object datasetObj : mappedDatasets) {\n            XYDataset d = (XYDataset) datasetObj;\n            if (d != null) {\n                XYItemRenderer r = getRendererForDataset(d);\n                if (isDomainAxis) {\n                    Range bounds = (r != null)\n                            ? r.findDomainBounds(d)\n                            : DatasetUtilities.findDomainBounds(d);\n                    result = Range.combine(result, bounds);\n                } else {\n                    Range bounds = (r != null)\n                            ? r.findRangeBounds(d)\n                            : DatasetUtilities.findRangeBounds(d);\n                    result = Range.combine(result, bounds);\n                }\n                // Include annotations from the renderer\n                if (r != null) {\n                    for (XYAnnotation a : r.getAnnotations()) {\n                        if (a instanceof XYAnnotationBoundsInfo) {\n                            includedAnnotations.add(a);\n                        }\n                    }\n                }\n            }\n        }\n\n        // Include annotations in the range calculation if needed\n        for (XYAnnotationBoundsInfo abi : includedAnnotations) {\n            if (abi.getIncludeInDataBounds()) {\n                if (isDomainAxis) {\n                    result = Range.combine(result, abi.getXRange());\n                } else {\n                    result = Range.combine(result, abi.getYRange());\n                }\n            }\n        }\n\n        return result;\n    }",
    "exact_match": false,
    "ast_match": false,
    "compile": false,
    "test": false
}