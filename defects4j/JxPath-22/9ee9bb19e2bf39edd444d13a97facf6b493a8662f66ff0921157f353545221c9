{
    "generation": "public static String getNamespaceURI(Node node) {\n    if (node instanceof Document) {\n        node = ((Document) node).getDocumentElement();\n    }\n    Element element = (Element) node;\n\n    String uri = element.getNamespaceURI();\n    // Normalize empty string to null since an empty namespace should be treated as no namespace.\n    if (uri != null && uri.isEmpty()) {\n        uri = null;\n    }\n    if (uri == null) {\n        // Use the element's own prefix instead of a separate getPrefix() helper.\n        String prefix = element.getPrefix();\n        String qname = (prefix == null || prefix.isEmpty()) ? \"xmlns\" : \"xmlns:\" + prefix;\n\n        Node aNode = node;\n        while (aNode != null) {\n            if (aNode.getNodeType() == Node.ELEMENT_NODE) {\n                Attr attr = ((Element) aNode).getAttributeNode(qname);\n                if (attr != null) {\n                    String ns = attr.getValue();\n                    // Again, treat an empty string as no namespace.\n                    if (ns != null && ns.isEmpty()) {\n                        ns = null;\n                    }\n                    return ns;\n                }\n            }\n            aNode = aNode.getParentNode();\n        }\n        return null;\n    }\n    return uri;\n}",
    "exact_match": false,
    "ast_match": false,
    "compile": true,
    "test": true
}