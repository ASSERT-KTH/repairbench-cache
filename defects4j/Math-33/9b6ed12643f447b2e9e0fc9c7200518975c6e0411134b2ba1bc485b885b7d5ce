{
    "generation": "/**\n * Removes the phase 1 objective function, positive-cost non-artificial variables,\n * and the non-basic artificial variables from this tableau.\n */\n@Override\nprotected void dropPhase1Objective() {\n    // if there is only one objective (no phase-1), nothing to do\n    if (getNumObjectiveFunctions() == 1) {\n        return;\n    }\n\n    // we will collect the indices of all columns to drop\n    List<Integer> columnsToDrop = new ArrayList<Integer>();\n    // the first column is the \"z\" or objective helper column \u2013 drop it\n    columnsToDrop.add(0);\n\n    // Determine which non\u2010artificial variables have positive cost\n    // in the PHASE-1 objective row.\n    // In a two\u2010phase tableau, the phase-1 objective is the last objective row:\n    final int phase1Row = getNumObjectiveFunctions() - 1;\n    // all non-artificial columns lie between the objective block and the artificial block\n    for (int col = getNumObjectiveFunctions(); col < getArtificialVariableOffset(); col++) {\n        double entry = tableau.getEntry(phase1Row, col);\n        if (Precision.compareTo(entry, 0d, maxUlps) > 0) {\n            columnsToDrop.add(col);\n        }\n    }\n\n    // Drop all non\u2010basic artificial columns:\n    for (int i = 0; i < getNumArtificialVariables(); i++) {\n        int col = getArtificialVariableOffset() + i;\n        Integer basicRow = getBasicRow(col);\n        if (basicRow == null) {\n            columnsToDrop.add(col);\n        }\n    }\n\n    // Build a new matrix: skip the phase-1 objective row (row 0) and drop the marked columns\n    double[][] newData = new double[getHeight() - 1][getWidth() - columnsToDrop.size()];\n    for (int r = 1; r < getHeight(); r++) {\n        int destCol = 0;\n        for (int c = 0; c < getWidth(); c++) {\n            if (!columnsToDrop.contains(c)) {\n                newData[r - 1][destCol++] = tableau.getEntry(r, c);\n            }\n        }\n    }\n\n    // Remove the corresponding labels, in descending order so indices stay valid\n    Collections.sort(columnsToDrop, Collections.reverseOrder());\n    for (int colIndex : columnsToDrop) {\n        columnLabels.remove(colIndex);\n    }\n\n    // Install the reduced tableau and reset the artificial\u2010variable count\n    this.tableau = new Array2DRowRealMatrix(newData, false);\n    this.numArtificialVariables = 0;\n}",
    "exact_match": false,
    "ast_match": false,
    "compile": false,
    "test": false
}