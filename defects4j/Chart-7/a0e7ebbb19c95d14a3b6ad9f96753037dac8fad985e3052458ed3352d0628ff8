{
    "generation": "/**\n * Update the index values for the maximum and minimum bounds.\n * \n * @param period  the time period.\n * @param index   the index of the time period.\n */\nprivate void updateBounds(TimePeriod period, int index) {\n    long start = period.getStart().getTime();\n    long end = period.getEnd().getTime();\n    long middle = start + ((end - start) / 2);\n\n    // update min start\n    if (this.minStartIndex >= 0) {\n        long minStart = getDataItem(this.minStartIndex).getPeriod()\n            .getStart().getTime();\n        if (start < minStart) {\n            this.minStartIndex = index;\n        }\n    }\n    else {\n        this.minStartIndex = index;\n    }\n\n    // update max start\n    if (this.maxStartIndex >= 0) {\n        long maxStart = getDataItem(this.maxStartIndex).getPeriod()\n            .getStart().getTime();\n        if (start > maxStart) {\n            this.maxStartIndex = index;\n        }\n    }\n    else {\n        this.maxStartIndex = index;\n    }\n\n    // update min middle\n    if (this.minMiddleIndex >= 0) {\n        long s = getDataItem(this.minMiddleIndex).getPeriod()\n            .getStart().getTime();\n        long e = getDataItem(this.minMiddleIndex).getPeriod()\n            .getEnd().getTime();\n        long minMiddle = s + ((e - s) / 2);\n        if (middle < minMiddle) {\n            this.minMiddleIndex = index;\n        }\n    }\n    else {\n        this.minMiddleIndex = index;\n    }\n\n    // update max middle (fixed: use maxMiddleIndex, not minMiddleIndex)\n    if (this.maxMiddleIndex >= 0) {\n        long s = getDataItem(this.maxMiddleIndex).getPeriod()\n            .getStart().getTime();\n        long e = getDataItem(this.maxMiddleIndex).getPeriod()\n            .getEnd().getTime();\n        long maxMiddle = s + ((e - s) / 2);\n        if (middle > maxMiddle) {\n            this.maxMiddleIndex = index;\n        }\n    }\n    else {\n        this.maxMiddleIndex = index;\n    }\n\n    // update min end\n    if (this.minEndIndex >= 0) {\n        long minEnd = getDataItem(this.minEndIndex).getPeriod()\n            .getEnd().getTime();\n        if (end < minEnd) {\n            this.minEndIndex = index;\n        }\n    }\n    else {\n        this.minEndIndex = index;\n    }\n\n    // update max end\n    if (this.maxEndIndex >= 0) {\n        long maxEnd = getDataItem(this.maxEndIndex).getPeriod()\n            .getEnd().getTime();\n        if (end > maxEnd) {\n            this.maxEndIndex = index;\n        }\n    }\n    else {\n        this.maxEndIndex = index;\n    }\n}",
    "exact_match": false,
    "ast_match": true,
    "compile": true,
    "test": true
}