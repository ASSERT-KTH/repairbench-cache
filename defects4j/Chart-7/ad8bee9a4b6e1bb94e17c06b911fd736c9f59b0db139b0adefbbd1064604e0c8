{
    "generation": "/**\n * Update the index values for the maximum and minimum bounds.\n * \n * @param period  the time period.\n * @param index   the index of the time period.\n */\nprivate void updateBounds(TimePeriod period, int index) {\n    long start = period.getStart().getTime();\n    long end   = period.getEnd().getTime();\n    long middle = start + ((end - start) / 2);\n\n    // min start\n    if (this.minStartIndex >= 0) {\n        long ms = getDataItem(this.minStartIndex).getPeriod()\n                        .getStart().getTime();\n        if (start < ms) {\n            this.minStartIndex = index;\n        }\n    } else {\n        this.minStartIndex = index;\n    }\n\n    // max start\n    if (this.maxStartIndex >= 0) {\n        long xs = getDataItem(this.maxStartIndex).getPeriod()\n                        .getStart().getTime();\n        if (start > xs) {\n            this.maxStartIndex = index;\n        }\n    } else {\n        this.maxStartIndex = index;\n    }\n\n    // min middle\n    if (this.minMiddleIndex >= 0) {\n        long s = getDataItem(this.minMiddleIndex).getPeriod()\n                        .getStart().getTime();\n        long e = getDataItem(this.minMiddleIndex).getPeriod()\n                        .getEnd().getTime();\n        long mm = s + ((e - s) / 2);\n        if (middle < mm) {\n            this.minMiddleIndex = index;\n        }\n    } else {\n        this.minMiddleIndex = index;\n    }\n\n    // max middle (fixed to use maxMiddleIndex here)\n    if (this.maxMiddleIndex >= 0) {\n        long s = getDataItem(this.maxMiddleIndex).getPeriod()\n                        .getStart().getTime();\n        long e = getDataItem(this.maxMiddleIndex).getPeriod()\n                        .getEnd().getTime();\n        long xm = s + ((e - s) / 2);\n        if (middle > xm) {\n            this.maxMiddleIndex = index;\n        }\n    } else {\n        this.maxMiddleIndex = index;\n    }\n\n    // min end\n    if (this.minEndIndex >= 0) {\n        long me = getDataItem(this.minEndIndex).getPeriod()\n                        .getEnd().getTime();\n        if (end < me) {\n            this.minEndIndex = index;\n        }\n    } else {\n        this.minEndIndex = index;\n    }\n\n    // max end\n    if (this.maxEndIndex >= 0) {\n        long xe = getDataItem(this.maxEndIndex).getPeriod()\n                        .getEnd().getTime();\n        if (end > xe) {\n            this.maxEndIndex = index;\n        }\n    } else {\n        this.maxEndIndex = index;\n    }\n}",
    "exact_match": false,
    "ast_match": false,
    "compile": true,
    "test": true
}