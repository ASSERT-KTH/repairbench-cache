{
    "generation": "public String chompBalanced(char open, char close) {\n    int start = -1;\n    int depth = 0;\n    boolean inQuote = false;\n    char quoteChar = 0;\n    boolean inEscape = false;\n    int lastChar = -1; // to check last char for edge case\n\n    for (int i = 0; !isEmpty(); i++) {\n        char c = consume();\n        if (start == -1 && c == open && !inQuote && !inEscape) {\n            start = pos;\n            depth = 1;\n            continue;\n        }\n        if (start != -1) {\n            if (inEscape) {\n                inEscape = false;\n            } else if (c == '\\\\') {\n                inEscape = true;\n            } else if (inQuote) {\n                if (c == quoteChar) {\n                    inQuote = false;\n                }\n            } else if (c == '\"' || c == '\\'') {\n                inQuote = true;\n                quoteChar = c;\n            } else if (c == open) {\n                depth++;\n            } else if (c == close) {\n                depth--;\n                if (depth == 0) {\n                    return queue.substring(start, pos - 1); // exclude close\n                }\n            }\n        }\n        lastChar = c;\n    }\n    return \"\";\n}",
    "exact_match": false,
    "ast_match": false,
    "compile": true,
    "test": false
}