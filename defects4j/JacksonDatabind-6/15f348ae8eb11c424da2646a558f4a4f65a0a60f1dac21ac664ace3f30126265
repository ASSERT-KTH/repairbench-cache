{
    "generation": "protected Date parseAsISO8601(String dateStr, ParsePosition pos) {\n    /* 21-May-2009, tatu: DateFormat has very strict handling of\n     * timezone modifiers for ISO-8601, so some scrubbing is done here.\n     */\n    int len = dateStr.length();\n    DateFormat df;\n    char lastChar = dateStr.charAt(len - 1);\n\n    // [JACKSON-200]: plain date? (yyyy-MM-dd)\n    if (len <= 10 && Character.isDigit(lastChar)) {\n        df = _formatPlain;\n        if (df == null) {\n            df = _formatPlain = _cloneFormat(DATE_FORMAT_PLAIN, DATE_FORMAT_STR_PLAIN, _timezone, _locale);\n        }\n        return df.parse(dateStr, pos);\n    }\n    // Ends with 'Z' -> GMT timezone\n    else if (lastChar == 'Z') {\n        int tPos = dateStr.indexOf('T');\n        if (tPos >= 0) {\n            String datePortion = dateStr.substring(0, tPos + 1);\n            String timePortion = dateStr.substring(tPos + 1, len - 1);\n            String normalizedTime;\n            String[] timeParts = timePortion.split(\":\");\n            if (timeParts.length == 2) {\n                // Missing seconds part -- assume \"00\" seconds and add millis\n                normalizedTime = timeParts[0] + \":\" + timeParts[1] + \":00.000\";\n            } else if (timeParts.length >= 3) {\n                String secPart = timeParts[2];\n                String sec;\n                String ms;\n                int dotIndex = secPart.indexOf('.');\n                if (dotIndex < 0) {\n                    sec = secPart;\n                    ms = \"000\";\n                } else {\n                    sec = secPart.substring(0, dotIndex);\n                    ms = secPart.substring(dotIndex + 1);\n                }\n                if (sec.length() == 0) {\n                    sec = \"00\";\n                }\n                while (ms.length() < 3) {\n                    ms = ms + \"0\";\n                }\n                if (ms.length() > 3) {\n                    ms = ms.substring(0, 3);\n                }\n                normalizedTime = timeParts[0] + \":\" + timeParts[1] + \":\" + sec + \".\" + ms;\n            } else {\n                normalizedTime = \"00:00:00.000\";\n            }\n            dateStr = datePortion + normalizedTime + \"Z\";\n        }\n        df = _formatISO8601_z;\n        if (df == null) {\n            df = _formatISO8601_z = _cloneFormat(DATE_FORMAT_ISO8601_Z, DATE_FORMAT_STR_ISO8601_Z, _timezone, _locale);\n        }\n        return df.parse(dateStr, pos);\n    }\n    // Otherwise: has explicit timezone indicator (like +01:00 or -05:00)\n    else {\n        if (hasTimeZone(dateStr)) {\n            // Remove colon from timezone if present (e.g., change +01:00 -> +0100)\n            if (dateStr.charAt(dateStr.length() - 3) == ':') {\n                dateStr = dateStr.substring(0, dateStr.length() - 3)\n                    + dateStr.substring(dateStr.length() - 2);\n            }\n            // Append \"00\" if timezone minutes are missing (e.g., +01 -> +0100)\n            else if (dateStr.charAt(dateStr.length() - 5) == '+' || dateStr.charAt(dateStr.length() - 5) == '-') {\n                dateStr += \"00\";\n            }\n            int tzStart = dateStr.length() - 5;\n            int tPos = dateStr.indexOf('T');\n            if (tPos < 0) { // Fallback to plain date format if no 'T'\n                df = _formatPlain;\n                if (df == null) {\n                    df = _formatPlain = _cloneFormat(DATE_FORMAT_PLAIN, DATE_FORMAT_STR_PLAIN, _timezone, _locale);\n                }\n                return df.parse(dateStr, pos);\n            }\n            String datePortion = dateStr.substring(0, tPos + 1);\n            String timePortion = dateStr.substring(tPos + 1, tzStart);\n            String normalizedTime;\n            String[] timeParts = timePortion.split(\":\");\n            if (timeParts.length == 2) {\n                // Missing seconds part -- insert default seconds and millis\n                normalizedTime = timeParts[0] + \":\" + timeParts[1] + \":00.000\";\n            } else if (timeParts.length >= 3) {\n                String secPart = timeParts[2];\n                String sec;\n                String ms;\n                int dotIndex = secPart.indexOf('.');\n                if (dotIndex < 0) {\n                    sec = secPart;\n                    ms = \"000\";\n                } else {\n                    sec = secPart.substring(0, dotIndex);\n                    ms = secPart.substring(dotIndex + 1);\n                }\n                if (sec.length() == 0) {\n                    sec = \"00\";\n                }\n                while (ms.length() < 3) {\n                    ms = ms + \"0\";\n                }\n                if (ms.length() > 3) {\n                    ms = ms.substring(0, 3);\n                }\n                normalizedTime = timeParts[0] + \":\" + timeParts[1] + \":\" + sec + \".\" + ms;\n            } else {\n                normalizedTime = \"00:00:00.000\";\n            }\n            String tzPart = dateStr.substring(tzStart);\n            dateStr = datePortion + normalizedTime + tzPart;\n            df = _formatISO8601;\n            if (_formatISO8601 == null) {\n                df = _formatISO8601 = _cloneFormat(DATE_FORMAT_ISO8601, DATE_FORMAT_STR_ISO8601, _timezone, _locale);\n            }\n        }\n        // No timezone indicator: assume GMT by appending 'Z'\n        else {\n            int tPos = dateStr.indexOf('T');\n            if (tPos >= 0) {\n                String datePortion = dateStr.substring(0, tPos + 1);\n                String timePortion = dateStr.substring(tPos + 1);\n                String normalizedTime;\n                String[] timeParts = timePortion.split(\":\");\n                if (timeParts.length == 2) {\n                    normalizedTime = timeParts[0] + \":\" + timeParts[1] + \":00.000\";\n                } else if (timeParts.length >= 3) {\n                    String secPart = timeParts[2];\n                    String sec;\n                    String ms;\n                    int dotIndex = secPart.indexOf('.');\n                    if (dotIndex < 0) {\n                        sec = secPart;\n                        ms = \"000\";\n                    } else {\n                        sec = secPart.substring(0, dotIndex);\n                        ms = secPart.substring(dotIndex + 1);\n                    }\n                    if (sec.length() == 0) {\n                        sec = \"00\";\n                    }\n                    while (ms.length() < 3) {\n                        ms = ms + \"0\";\n                    }\n                    if (ms.length() > 3) {\n                        ms = ms.substring(0, 3);\n                    }\n                    normalizedTime = timeParts[0] + \":\" + timeParts[1] + \":\" + sec + \".\" + ms;\n                } else {\n                    normalizedTime = \"00:00:00.000\";\n                }\n                dateStr = datePortion + normalizedTime + \"Z\";\n            } else {\n                dateStr = dateStr + \"Z\";\n            }\n            df = _formatISO8601_z;\n            if (df == null) {\n                df = _formatISO8601_z = _cloneFormat(DATE_FORMAT_ISO8601_Z, DATE_FORMAT_STR_ISO8601_Z, _timezone, _locale);\n            }\n        }\n        return df.parse(dateStr, pos);\n    }\n}",
    "exact_match": false,
    "ast_match": false,
    "compile": true,
    "test": false
}