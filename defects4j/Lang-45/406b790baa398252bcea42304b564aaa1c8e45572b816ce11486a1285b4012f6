{
    "generation": "/**\n * Abbreviates a string nicely.\n * \n * This method searches for the first space after the lower limit and abbreviates\n * the String there. It will also append any String passed as a parameter\n * to the end of the String. The upper limit can be specified to forcibly\n * abbreviate a String.\n * \n * @param str         the string to be abbreviated. If null is passed, null is returned.\n *                    If the empty String is passed, the empty string is returned.\n * @param lower       the lower limit.\n * @param upper       the upper limit; specify -1 if no limit is desired.\n *                    If the upper limit is lower than the lower limit, it will be\n *                    adjusted to be the same as the lower limit.\n * @param appendToEnd String to be appended to the end of the abbreviated string.\n *                    This is appended ONLY if the string was indeed abbreviated.\n *                    The append does not count towards the lower or upper limits.\n * @return the abbreviated String.\n * @since 2.4\n */\npublic static String abbreviate(String str, int lower, int upper, String appendToEnd) {\n    // initial parameter checks\n    if (str == null) {\n        return null;\n    }\n    if (str.length() == 0) {\n        return StringUtils.EMPTY;\n    }\n\n    // Adjust lower and upper limits\n    lower = Math.max(0, Math.min(lower, str.length()));\n    if (upper == -1 || upper > str.length()) {\n        upper = str.length();\n    } else {\n        upper = Math.max(lower, Math.min(upper, str.length()));\n    }\n\n    // Find the first space after the lower limit\n    int index = StringUtils.indexOf(str, \" \", lower);\n    if (index == -1 || index > upper) {\n        index = upper;\n    }\n\n    // Abbreviate the string\n    String result = str.substring(0, index);\n    if (index < str.length()) {\n        result += StringUtils.defaultString(appendToEnd);\n    }\n\n    return result;\n}",
    "exact_match": false,
    "ast_match": false,
    "compile": true,
    "test": true
}