{
    "generation": "    static URL encodeUrl(URL u) {\n\t    u = punyUrl(u); // Handle IDN in host\n        try {\n            String protocol = u.getProtocol();\n            String host = u.getHost();\n            int port = u.getPort();\n\n            // URL.getPath(), getQuery(), getUserInfo() can return mixed encoded/raw strings.\n            // These need to be fully decoded before passing to the URI constructor,\n            // which expects raw component strings and then performs encoding.\n            String path = u.getPath();\n            String decodedPath = (path == null) ? null : java.net.URLDecoder.decode(path, java.nio.charset.StandardCharsets.UTF_8.name());\n\n            String query = u.getQuery();\n            String decodedQuery = (query == null) ? null : java.net.URLDecoder.decode(query, java.nio.charset.StandardCharsets.UTF_8.name());\n            \n            String userInfo = u.getUserInfo();\n            String decodedUserInfo = (userInfo == null) ? null : java.net.URLDecoder.decode(userInfo, java.nio.charset.StandardCharsets.UTF_8.name());\n\n            // The fragment is not encoded by the URI constructor and should be passed as-is.\n            // RFC 3986 specifies that fragments can contain pchar, '/', and '?'.\n            // If it contains other characters, they should ideally already be percent-encoded in the input URL.\n            String fragment = u.getRef();\n\n            final java.net.URI uri = new java.net.URI(\n                protocol,\n                decodedUserInfo,\n                host,\n                port,\n                decodedPath,\n                decodedQuery,\n                fragment\n            );\n            return new URL(uri.toASCIIString());\n        } catch (java.net.URISyntaxException | java.net.MalformedURLException | java.io.UnsupportedEncodingException e) {\n            // give up and return the original input\n            // consider logging the exception, e.g., using a logger:\n            // Logger.warn(\"Failed to encode URL '{}': {}\", u.toExternalForm(), e.getMessage());\n            return u;\n        }\n    }\n",
    "exact_match": false,
    "ast_match": false,
    "compile": null,
    "test": false
}