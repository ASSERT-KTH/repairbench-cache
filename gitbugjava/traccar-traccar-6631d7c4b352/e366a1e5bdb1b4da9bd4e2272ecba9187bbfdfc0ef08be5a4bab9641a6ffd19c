{
    "generation": "@Override\nprotected Object decode(\n        ChannelHandlerContext ctx, Channel channel, ByteBuf buf) throws Exception {\n\n    // Find the first closing bracket ']' in the buffer\n    int start = buf.readerIndex();\n    int end = buf.indexOf(start, buf.writerIndex(), (byte)']');\n    if (end < 0) {\n        // no complete frame yet\n        return null;\n    }\n    // include the ']' in the frame\n    int endIndex = end + 1;\n\n    // Extract and unescape the frame\n    ByteBuf frame = Unpooled.buffer(endIndex - start);\n    while (buf.readerIndex() < endIndex) {\n        byte b = buf.readByte();\n        if (b == '}') {\n            byte code = buf.readByte();\n            switch (code) {\n                case 0x01:\n                    frame.writeByte((byte)'}');\n                    break;\n                case 0x02:\n                    frame.writeByte((byte)'[');\n                    break;\n                case 0x03:\n                    frame.writeByte((byte)']');\n                    break;\n                case 0x04:\n                    frame.writeByte((byte)',');\n                    break;\n                case 0x05:\n                    frame.writeByte((byte)'*');\n                    break;\n                default:\n                    throw new IllegalArgumentException(String.format(\n                            \"unexpected escape code at %d: 0x%02x\",\n                            buf.readerIndex() - 1, code));\n            }\n        } else {\n            frame.writeByte(b);\n        }\n    }\n\n    return frame;\n}",
    "exact_match": false,
    "ast_match": false,
    "compile": null,
    "test": false
}